# 序言

《计算机程序的构造和解释》（Structure and Interpretation of Computer Programs，简称SICP）这本书通过建立一系列计算的心智模型，向读者介绍了计算的核心思想。第1至3章介绍了所有现代高级编程语言共通的编程概念。在最初的两个版本中，SICP使用Scheme编程语言作为示例，该语言具有极简、表达导向的语法，使得书籍能够专注于底层思想而非所选择语言的设计。第4和第5章使用Scheme来构建Scheme的语言处理器，进一步加深读者对心智模型的理解，并探索语言扩展和替代方案。

自1984年首次出版以及1996年的第二版问世以来，《计算机程序的构造和解释》（SICP）已成为全球各大学和学院的教材，包括新加坡国立大学（NUS），该校于1997年引入了基于SICP的入门课程CS1101S。在20世纪90年代中期，Python、JavaScript和Ruby等编程语言崭露头角，它们与Scheme共享核心设计元素，但采用了更复杂的基于语句的语法，使用熟悉的代数（中缀）表示法。这些语言的流行使得教师们不得不调整他们基于SICP的课程，通常通过将示例程序翻译成他们选择的编程语言，添加特定于该语言的内容，并省略第4章和第5章的内容。

## 使 SICP 适应 JavaScript

在新加坡国立大学（NUS），将第二版《计算机程序的构造和解释》（SICP）改编为JavaScript（SICP JS）的工作始于2008年，并于2012年CS1101S课程转向JavaScript。ECMAScript 2015语言标准引入了lambda表达式、尾递归以及块级作用域的变量和常量，这使得适应工作与原书相当接近。我们只在JavaScript和Scheme之间存在差异强制要求的情况下才对SICP进行了实质性的更改。这本书只涵盖了JavaScript的一小部分，因此不建议读者将其作为学习该语言的主要参考。例如，JavaScript对象的概念——无论如何都被认为是其基本组成部分之一——甚至没有提到！

将第1至3章的程序转换为JavaScript相对来说比较简单，只需添加模拟Scheme原语（包括对列表结构的支持）的库，并相应地调整文本。然而，转向JavaScript后，我们不得不对第4章和第5章的解释器和编译器进行微妙的更改，以处理return语句。Scheme的表达式导向的语法中没有return语句，而return语句是面向语句的语言的一个重要特性。
通过使用JavaScript，第1至3章向读者介绍了当今大多数主流语言的语法风格。然而，同样的语法风格在第4章中引起了重大变化，因为无法再默认将程序直接表示为数据结构。这为我们提供了在第4.1节中引入程序解析的机会，这是编程语言处理器的重要组成部分。在第4.4节中，JavaScript的严格语法结构使得实现所呈现的逻辑编程系统变得复杂，并暴露了JavaScript作为编程语言设计工具的局限性。

## 使用 SICP JS 的资源

[SICP JS的MIT Press网页](https://mitpress.mit.edu/9780262543231/)提供了对该书的支持。这包括书中的所有程序以及丰富的教师资源，包括大量额外的练习题和有关选择SICP JS子集以适应典型大学学期的建议。书中的JavaScript程序在符合ECMAScript 2020规范（ECMA 2020）的任何JavaScript解释器中以推荐的严格模式运行。MIT Press网页还包含名为`sicp`的JavaScript包，其中提供了书中被认为是“原始”的所有JavaScript函数。

## 给读者的话

我们真诚地希望，如果这本书是你第一次接触编程，你会利用你对计算机程序的结构和解释的新理解来学习更多的编程语言，包括Scheme和完整的JavaScript语言。如果你在学习SICP JS之前已经学过JavaScript，你可能会对构成该语言基础的基本概念有新的见解，并发现用很少的代码可以实现很多功能。如果你已经了解原版SICP，那么在SICP JS中看到熟悉的思想以一种新的形式呈现，你可能会感到愉快，并且可能会喜欢该书网页上提供的在线比较版本，可以将SICP JS和SICP并排查看。